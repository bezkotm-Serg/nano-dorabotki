# path: pyproject.toml
[tool.black]
line-length = 100
target-version = ["py310"]

[tool.ruff]
line-length = 100
target-version = "py310"
exclude = ["venv", ".venv", "temp", "logs"]

[tool.ruff.lint]
# Базовые наборы правил: ошибки/ворнинги/импорты/pyupgrade/pylint/perf
select = ["E", "F", "W", "I", "UP", "PL", "PERF"]
# Временные послабления, чтобы хуки проходили на текущем коде
ignore = [
  "E501",     # длинные строки (промпты/тексты допустимы)
  "UP035",    # typing.List/Dict/... пока не переписываем
  "PLR2004",  # "магические числа" (len(args)==2/3, HTTP-коды)
  "PLR0912",  # слишком много ветвлений в хэндлерах
  "PERF203",  # try/except в циклах для сетевых вызовов
  "PLW2901",  # переиспользование переменной цикла в парсинге ENV
]

[tool.ruff.lint.isort]
known-first-party = ["handlers", "services", "storage", "utils"]
combine-as-imports = true
